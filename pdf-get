#!/usr/bin/env python3
import argparse as argp
import requests
from bs4 import BeautifulSoup

parser = argp.ArgumentParser(description='Get some bookz')
parser.add_argument('book_name', metavar='Book', type=string, nargs='+',
                    help='da book to get')


class Library(object):
    def __init__(self):
        self.url = "http://gen.lib.rus.ec/"
    def search(self, query):
        q = "http://gen.lib.rus.ec/search.php?req=" + query.replace(" ", "+    ") + "&lg_topic=libgen&open=0&view=simple&res=25&phrase=0&column=def"
        r = requests.get(q).text
        soup = BeautifulSoup(r, "html.parser")
        print(soup.find_all("tr"))

lib = Library()
lib.search("Art of Exploitation")
